<!--
https://twitter.com/yukifuyuki
https://www.twitch.tv/yukifuyuki
-->
<!DOCTYPE html><html lang="en"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width,initial-scale=1"><title>How many femaura in your FC?</title><script>let a=[],n=[],h=0,o,r;function buttonClick(){var e=d(document.getElementById("fcid").value);!1===e?m("Invalid FC URL or ID"):t(e)}function t(e){f(),m("Fetching FC "+e);let t=r=Date.now();fetch(`https://xivapi.com/freecompany/${e}?data=FCM`,{mode:"cors"}).then(e=>e.json()).then(e=>{t===r&&(void 0===e.FreeCompany?m("Could not find FC. Please double check URL or ID."):(m(`Found FC ${e.FreeCompany.Name} on `+e.FreeCompany.Server),c((o=e).FreeCompanyMembers,t)))})}function c(n,o){h=n.length,m(`Fetching FC members data for ${n.length} members. This should take around ${Math.round(1.1*n.length)} seconds.`);for(var r=0;r<n.length;r++){let e=n[r].ID,t=o;a.push(setTimeout(()=>i(e,t),1100*(r+1)))}}function i(e,t){fetch("https://xivapi.com/character/"+e).then(e=>e.json()).then(e=>l(e,t))}function l(e,t){t===r&&0!==h&&(0<n.length&&s(),n.push(e),m(`Checked ${n.length} members out of ${h} total. ETA ${Math.round(1.1*(h-n.length))} seconds.`),n.length===h&&u())}function u(){var t=0,e=(n.forEach(e=>{6===e.Character.Race&&2===e.Character.Gender&&t++}),`${o.FreeCompany.Name} FC on ${o.FreeCompany.Server} has ${t} femaura. This is ${Math.round(1e3*t/n.length)/10}% of the ${n.length} members.`),e=(m(`<b>${e}</b>`),`https://twitter.com/intent/tweet?url=https%3A%2F%2Fyukifuyuki.github.io%2Ffc-catgirls%2F&text=${encodeURIComponent(e)}&hashtags=FFXIV`);m(`<a href="${e}">Share on Twitter</a>`)}function d(e){var t,n;return e.match(/^\d+$/)||(n=e.indexOf(t="any/"),0<(n=(e=e.substring(n+t.length)).indexOf("/"))&&(e=e.substring(0,n))),!!e.match(/^\d+$/)&&e}function m(e){document.getElementById("log").innerHTML+=`<p>${e}</p>`}function s(){var e,t=document.getElementById("log");t.hasChildNodes()&&(e=t.childNodes,t.removeChild(e[e.length-1]))}function g(){document.getElementById("log").innerHTML=""}function f(){g(),n=[],h=0,o=null,r=null;for(var e=0;e<a.length;e++)clearTimeout(a[e])}</script></head><body><header><h1>How many femaura in my FC?</h1></header><main><div id="input"><b>FC's Lodestone URL or ID</b><br><input type="text" id="fcid"> <button onclick="buttonClick()">Submit</button><p>Examples:</p><ul><li>https://eu.finalfantasyxiv.com/lodestone/freecompany/9237023573225243143/</li><li>9237023573225243143</li></ul></div><hr><div id="log"></div><div id="output"></div></main><hr><footer><p>Made by Yuki Fuyuki of Ragnarok.</p><p>Follow me on <a href="https://www.twitch.tv/yukifuyuki">twitch.tv/yukifuyuki</a></p><p>For bug reports or feature requests please submit an issue on <a href="https://github.com/yukifuyuki/fc-catgirls/issues">GitHub</a> or message me on <a href="https://twitter.com/yukifuyuki">Twitter</a></p><p>Happy to have money thrown at me <a href="https://streamlabs.com/yukifuyuki/tip">here</a></p></footer></body></html>